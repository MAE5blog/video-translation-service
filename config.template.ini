# 配置文件
# 复制此文件为 config.ini 并填入你的配置

[API]
# DeepSeek API密钥（可选，用于翻译润色）
# 访问 https://platform.deepseek.com 获取
deepseek_api_key = 

[Service]
# 翻译服务配置
host = 127.0.0.1
port = 50515

[Models]
# ASR模型大小: tiny, base, small, medium, large-v3
asr_model_size = medium

# 翻译模型: 
#   facebook/nllb-200-distilled-1.3B (高质量，推荐)
#   facebook/nllb-200-distilled-600M (快速)
#   facebook/m2m100_418M (最快)
translation_model = facebook/nllb-200-distilled-1.3B

# 是否使用GPU
use_gpu = true

# beam_size (1-5，越大质量越好但越慢)
beam_size = 3

[GPU]
# 是否在 GPU 重任务前清理 CUDA 显存缓存（torch.cuda.empty_cache）
# 可降低 OOM 概率，但会略慢一些
clear_cuda_cache_before_tasks = false

[ASR]
# ASR 分块识别（可显示进度条，也可降低长音频导致的 500/OOM 概率）
# 0=禁用；建议长视频可设 300（5分钟）左右
chunk_sec = 0

# 分块重叠秒数（避免切在单词中间；会产生少量重复，程序会尽量去重）
chunk_overlap_sec = 0.5

[Translation]
# 默认目标语言
default_target_language = zh

# 是否使用DeepSeek润色
use_deepseek_polish = false

[Audio]
# 是否启用人声分离（Demucs，可改善背景音乐/嘈杂场景的识别）
# 需要额外安装：pip install demucs
enable_vocal_separation = false

# Demucs 模型名（常用：htdemucs / htdemucs_ft / mdx_extra）
vocal_separation_model = htdemucs

# 人声分离设备：auto / cpu / cuda
# 建议：若服务端模型占用显存较多导致 OOM，可设为 cpu；否则可用 auto/cuda 加速
vocal_separation_device = auto
